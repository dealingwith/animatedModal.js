// from fork at https://github.com/dealingwith/animatedModal.js
!function(n){n.fn.animatedModal=function(o){function a(){n(document).keyup(i)}function t(){n(document).unbind("keyup",i)}function i(n){27==n.keyCode&&e()}function e(){n("body, html").css({overflow:"auto"}),l.beforeClose(),u.hasClass(l.modalTarget+"-on")&&(u.removeClass(l.modalTarget+"-on"),u.addClass(l.modalTarget+"-off")),u.hasClass(l.modalTarget+"-off")&&(u.removeClass(l.animatedIn),u.addClass(l.animatedOut),u.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",d)),t()}function d(){u.css({"z-index":l.zIndexOut}),l.afterClose()}function m(){l.afterOpen()}var s=n(this),l=n.extend({modalTarget:"animatedModal",position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndexIn:"9999",zIndexOut:"-9999",color:"#39BEB9",opacityIn:"1",opacityOut:"0",animatedIn:"zoomIn",animatedOut:"zoomOut",animationDuration:".6s",overflow:"auto",beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},o),r=n(".close-"+l.modalTarget),f=n(s).attr("href"),u=n("body").find("#"+l.modalTarget),c="#"+u.attr("id");u.addClass("animated"),u.addClass(l.modalTarget+"-off");var p={position:l.position,width:l.width,height:l.height,top:l.top,left:l.left,"background-color":l.color,"overflow-y":l.overflow,"z-index":l.zIndexOut,opacity:l.opacityOut,"-webkit-animation-duration":l.animationDuration,"-moz-animation-duration":l.animationDuration,"-ms-animation-duration":l.animationDuration,"animation-duration":l.animationDuration};u.css(p),s.click(function(o){o.preventDefault(),n("body, html").css({overflow:"hidden"}),f==c&&(u.hasClass(l.modalTarget+"-off")&&(u.removeClass(l.animatedOut),u.removeClass(l.modalTarget+"-off"),u.addClass(l.modalTarget+"-on")),u.hasClass(l.modalTarget+"-on")&&(l.beforeOpen(),u.css({opacity:l.opacityIn,"z-index":l.zIndexIn}),u.addClass(l.animatedIn),u.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",m))),a()}),r.click(function(n){n.preventDefault(),e()})}}(jQuery);
